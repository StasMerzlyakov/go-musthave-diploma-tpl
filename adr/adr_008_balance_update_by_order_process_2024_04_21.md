# ADR_008

## Название
Описание процесса обновления баланса по начислениям

## Статус
proposed

## Дата
2024-04-21

## Описание принятого/предложенного решения
### Процесс пула системы начислений
Статусная модель:
  - при полученни данных о начислении статус у номера domain.OrderStatusProcessing
  - после обновления баланса статус изменяется на domain.OrderStatusProcessed

Обновление баланса запускается вызовом balance.PoolOrders
 balance.PoolOrders
   - запускает горутины:
     - обновления баланса
     - получение заказов в статусе domain.OrderStatusProcessing
 
 При возникновении ошибки все горутины приостанавливают работу на 5 секунд.
 Остановка горутин по остановке контекста.
 Контекс должен содержать logger.

 Функции реализованы по мотивам [Advanced Go Concurrency Patterns](https://go.dev/blog/io2013-talk-concurrency)

## Недостатки решения


## Комментарии

## Связана
ADR_003
